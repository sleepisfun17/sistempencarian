<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,800" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <title><%= title %></title>
  </head>
  <body>
    <div class="s006">
      <form>
        <fieldset>
          <legend style="color: black">Masukkan kata yang ingin anda cari.</legend>
          <div class="inner-form">
            <div class="input-field">
              <button id="myBtn" class="btn-search" type="button" onclick="getData()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                  <path
                    d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                  ></path>
                </svg>
              </button>
              <input id="search" type="text" name="search" onkeypress="getData()" />
            </div>

            <div class="container mt-4">
              <div class="row">
                <div class="col-md-12">
                  <h2>
                    Daftar Surat dan Ayat :
                    <h5 id="jumlahTerjemahan"></h5>
                  </h2>

                  <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Surat</th>
                        <th scope="col">Ayat</th>
                        <th scope="col">Detail</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row" id="nomor0"></th>
                        <td id="surahName0"></td>
                        <td id="ayat0"></td>
                        <td id="textTerjemahan0"></td>
                      </tr>
                      <!-- <tr>
                        <th scope="row" id="nomor1"></th>
                        <td id="surahName1"></td>
                        <td id="ayat1"></td>
                        <td id="textTerjemahan1"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor2"></th>
                        <td id="surahName2"></td>
                        <td id="ayat2"></td>
                        <td id="textTerjemahan2"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor3"></th>
                        <td id="surahName3"></td>
                        <td id="ayat3"></td>
                        <td id="textTerjemahan3"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor4"></th>
                        <td id="surahName4"></td>
                        <td id="ayat4"></td>
                        <td id="textTerjemahan4"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor5"></th>
                        <td id="surahName5"></td>
                        <td id="ayat5"></td>
                        <td id="textTerjemahan5"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor6"></th>
                        <td id="surahName6"></td>
                        <td id="ayat6"></td>
                        <td id="textTerjemahan6"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor7"></th>
                        <td id="surahName7"></td>
                        <td id="ayat7"></td>
                        <td id="textTerjemahan7"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor8"></th>
                        <td id="surahName8"></td>
                        <td id="ayat8"></td>
                        <td id="textTerjemahan8"></td>
                      </tr>
                      <tr>
                        <th scope="row" id="nomor9"></th>
                        <td id="surahName9"></td>
                        <td id="ayat9"></td>
                        <td id="textTerjemahan9"></td>
                      </tr> -->
                    </tbody>
                  </table>
                  <script>
                    async function getData() {
                      // var col = [];
                      var searchText = document.getElementById("search").value;
                      // input.addEventListener("keyup", function (event) {
                      //   // Number 13 is the "Enter" key on the keyboard
                      //   if (event.keyCode === 13) {
                      //     // Cancel the default action, if needed
                      //     event.preventDefault();
                      //     // Trigger the button element with a click
                      //     document.getElementById("myBtn").click();
                      //   }
                      // });
                      const response = await fetch(`http://api.alquran.cloud/v1/search/${searchText}/all/id`);
                      var terjemahan = await response.json();
                      // for (let i = 0; i < terjemahan.data.matches.length; i++) {
                      // console.log(terjemahan.data.matches[i].surah.name);
                      // console.log(terjemahan.data.matches[i].numberInSurah);
                      // console.log(terjemahan.data.matches[i].text);
                      // }
                      document.getElementById("nomor0").textContent = 0 + 1;
                      document.getElementById("surahName0").textContent = terjemahan.data.matches[0].surah.name;
                      document.getElementById("ayat0").textContent = terjemahan.data.matches[0].numberInSurah;
                      document.getElementById("textTerjemahan0").textContent = terjemahan.data.matches[0].text;

                      // document.getElementById("nomor1").textContent = 1 + 1;
                      // document.getElementById("surahName1").textContent = terjemahan.data.matches[1].surah.name;
                      // document.getElementById("ayat1").textContent = terjemahan.data.matches[1].numberInSurah;
                      // document.getElementById("textTerjemahan1").textContent = terjemahan.data.matches[1].text;

                      // document.getElementById("nomor2").textContent = 2 + 1;
                      // document.getElementById("surahName2").textContent = terjemahan.data.matches[2].surah.name;
                      // document.getElementById("ayat2").textContent = terjemahan.data.matches[2].numberInSurah;
                      // document.getElementById("textTerjemahan2").textContent = terjemahan.data.matches[2].text;

                      // document.getElementById("nomor3").textContent = 3 + 1;
                      // document.getElementById("surahName3").textContent = terjemahan.data.matches[3].surah.name;
                      // document.getElementById("ayat3").textContent = terjemahan.data.matches[3].numberInSurah;
                      // document.getElementById("textTerjemahan3").textContent = terjemahan.data.matches[3].text;

                      // document.getElementById("nomor4").textContent = 4 + 1;
                      // document.getElementById("surahName4").textContent = terjemahan.data.matches[4].surah.name;
                      // document.getElementById("ayat4").textContent = terjemahan.data.matches[4].numberInSurah;
                      // document.getElementById("textTerjemahan4").textContent = terjemahan.data.matches[4].text;

                      // document.getElementById("nomor5").textContent = 5 + 1;
                      // document.getElementById("surahName5").textContent = terjemahan.data.matches[5].surah.name;
                      // document.getElementById("ayat5").textContent = terjemahan.data.matches[5].numberInSurah;
                      // document.getElementById("textTerjemahan5").textContent = terjemahan.data.matches[5].text;

                      // document.getElementById("nomor6").textContent = 6 + 1;
                      // document.getElementById("surahName6").textContent = terjemahan.data.matches[6].surah.name;
                      // document.getElementById("ayat6").textContent = terjemahan.data.matches[6].numberInSurah;
                      // document.getElementById("textTerjemahan6").textContent = terjemahan.data.matches[6].text;

                      // document.getElementById("nomor7").textContent = 7 + 1;
                      // document.getElementById("surahName7").textContent = terjemahan.data.matches[7].surah.name;
                      // document.getElementById("ayat7").textContent = terjemahan.data.matches[7].numberInSurah;
                      // document.getElementById("textTerjemahan7").textContent = terjemahan.data.matches[7].text;

                      // document.getElementById("nomor8").textContent = 8 + 1;
                      // document.getElementById("surahName8").textContent = terjemahan.data.matches[8].surah.name;
                      // document.getElementById("ayat8").textContent = terjemahan.data.matches[8].numberInSurah;
                      // document.getElementById("textTerjemahan8").textContent = terjemahan.data.matches[8].text;

                      // document.getElementById("nomor9").textContent = 9 + 1;
                      // document.getElementById("surahName9").textContent = terjemahan.data.matches[9].surah.name;
                      // document.getElementById("ayat9").textContent = terjemahan.data.matches[9].numberInSurah;
                      // document.getElementById("textTerjemahan9").textContent = terjemahan.data.matches[9].text;

                      document.getElementById("jumlahTerjemahan").textContent = terjemahan.data.matches.length;

                      getData();
                    }
                  </script>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </body>
</html>
